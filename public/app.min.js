!function(module){try{module=angular.module("myApp")}catch(e){module=angular.module("myApp",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("graphicDisplay/graphicDisplay.html",'<div><svg width="720" height="480"></svg></div>')}])}(),function(module){try{module=angular.module("myApp")}catch(e){module=angular.module("myApp",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("lists/completedListForm.html",'<form name="listSetForm{{$index}}" novalidate id="listsForm"><li id="titleListItem"><label id="list_title">{{$ctrl.list.title}}</label><input type="submit" ng-click="$ctrl.removeList()($ctrl.list)" value="Delete List"><table class="listTable"><tr class="listTR"><th class="listTH">&#10003;</th><th class="listTH">Title</th><th class="listTH">Description</th><th class="listTH">Remove</th></tr><tr class="list" ng-repeat="listItem in $ctrl.list.listItems" ng-hide="listItem.completed===false"><td class="checkCol"><input type="checkbox" id="chkIsSelected" ng-checked="{{listItem.isSelected}}" ng-model="listItem.isSelected" ng-click="$ctrl.updateListItem()($ctrl.list, listItem)"></td><td class="listTD"><label class="cellListData">{{listItem.title}}</label></td><td class="listTD"><label class="cellListData">{{listItem.description}}</label></td><td class="listTD"><a href ng-click="$ctrl.removeListItem()($ctrl.list, listItem)">remove</a></td></tr></table><input type="submit" name="setIncompletedBtn" class="toggleBtn" ng-click="$ctrl.toggleCompleted()($ctrl.listType, $ctrl.list)" value="Move to Incomplete"></li></form>')}])}(),angular.module("myApp",["listsMod","tabMod","graphicDisplayMod"]),function(module){try{module=angular.module("myApp")}catch(e){module=angular.module("myApp",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("lists/incompleteListForm.html",'<form name="listSetForm{{$index}}" novalidate id="listsForm"><li id="titleListItem"><label id="list_title">{{$ctrl.list.title}}</label><input type="submit" name="btnDelete" ng-click="$ctrl.removeList()($ctrl.list)" value="Delete List"><table class="listTable"><tr class="listTR"><th class="listTH">&#10003;</th><th class="listTH">Title</th><th class="listTH">Description</th><th class="listTH">Remove</th></tr><tr class="list" ng-repeat="listItem in $ctrl.list.listItems" ng-hide="listItem.completed===true"><td class="checkCol"><input type="checkbox" id="chkIsSelected" ng-checked="{{listItem.isSelected}}" ng-model="listItem.isSelected" ng-click="$ctrl.updateListItem()($ctrl.list, listItem)"></td><td class="listTD"><label class="cellListData">{{listItem.title}}</label></td><td class="listTD"><label class="cellListData">{{listItem.description}}</label></td><td class="listTD"><a href ng-click="$ctrl.removeListItem()($ctrl.list, listItem)">remove</a></td></tr><tr><td class="corner-symbol">+</td><td class="newItemTD"><input type="text" name="txtTitle" ng-model="newItem.title" required></td><td class="newItemTD"><input type="text" name="txtDesc" ng-model="newItem.description" required></td><td class="newItemTD"><input type="submit" class="newItemBtn" name="btnNewItem" ng-disabled="listSetForm.$invalid" ng-click="$ctrl.addListItem()($ctrl.list, newItem)"></td></tr></table></li><input type="submit" name="setCompletedBtn" class="toggleBtn" ng-click="$ctrl.toggleCompleted()($ctrl.listType, $ctrl.list)" value="Move to Completed"> <span class="error-notification" ng-if="listSetForm.txtTitle.$invalid && listSetForm.txtTitle.$dirty || listSetForm.txtDesc.$invalid && listSetForm.txtDesc.$dirty">Please include a valid title and description.</span></form>')}])}(),angular.module("graphicDisplayMod",[]).component("graphicDisplay",{controller:"graphicDisplayCtrl",template:'<div><svg width="720" height="480"></svg></div>',bindings:{svgHeight:"<",svgWidth:"<"}}),angular.module("graphicDisplayMod").controller("graphicDisplayCtrl",["$scope","$timeout",function($scope,$timeout){d3.csv("ILWdm1.csv",function(d){return d.result=+d.result,d},function(error,data){if(error)throw error;$timeout(function(){var svg=d3.select("svg"),margin={top:20,right:20,bottom:20,left:20},height=+svg.attr("height")-margin.top-margin.bottom,width=+svg.attr("width")-margin.left-margin.right,x=d3.scaleBand().rangeRound([0,width]).padding(.1),y=d3.scaleLinear().rangeRound([height,0]),graph=svg.append("g").attr("transform","translate("+margin.left+","+margin.top+")");x.domain(data.map(function(d){return d.column})),y.domain([0,d3.max(data,function(d){return d.result})]),graph.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+height+")").call(d3.axisBottom(x)),graph.append("g").attr("class","axis axis--y").call(d3.axisLeft(y).ticks(10,"%")).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").attr("text-anchor","end").text("Result"),graph.selectAll(".bar").data(data).enter().append("rect").attr("class","bar").attr("x",function(d){return x(d.column)}).attr("y",function(d){return y(d.result)}).attr("width",x.bandwidth()).attr("height",function(d){return height-y(d.result)})})})}]),function(module){try{module=angular.module("myApp")}catch(e){module=angular.module("myApp",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("lists/listApp.html",'<list-tables lists="$ctrl.lists" incomplete-filter="$ctrl.incompleteFilter" add-list-item="$ctrl.addListItem" remove-list="$ctrl.removeList" remove-list-item="$ctrl.removeListItem" update-list-item="$ctrl.updateListItem" toggle-completed="$ctrl.toggleCompleted" list-type="$ctrl.listType"></list-tables><div ng-hide="$ctrl.listType===\'completed\'"><div id="formSeperator"></div><div id="newListForm"><new-list-form add-list="$ctrl.addList"></new-list-form></div></div>')}])}(),function(module){try{module=angular.module("myApp")}catch(e){module=angular.module("myApp",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("lists/listTables.html",'<div ng-switch="$ctrl.listType"><ul class="lists" ng-switch-when="incomplete"><incomplete-list-form list="list" list-type="$ctrl.listType" add-list-item="$ctrl.addListItem()" remove-list="$ctrl.removeList()" remove-list-item="$ctrl.removeListItem()" update-list-item="$ctrl.updateListItem()" toggle-completed="$ctrl.toggleCompleted()" ng-repeat="list in $ctrl.lists | filter: $ctrl.incompleteFilter"></incomplete-list-form></ul><ul class="lists" ng-switch-when="completed"><completed-list-form list="list" list-type="$ctrl.listType" remove-list="$ctrl.removeList()" remove-list-item="$ctrl.removeListItem()" update-list-item="$ctrl.updateListItem()" toggle-completed="$ctrl.toggleCompleted()" ng-repeat="list in $ctrl.lists | filter: {listItems: {completed: true}}"></completed-list-form></ul></div>')}])}(),function(module){try{module=angular.module("myApp")}catch(e){module=angular.module("myApp",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("lists/newListForm.html",'<form name="newListForm"><label>New List Title:</label><input type="text" ng-model="title" required> <input type="submit" ng-click="$ctrl.addList()(title)"></form>')}])}(),function(module){try{module=angular.module("myApp")}catch(e){module=angular.module("myApp",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("tab/tab.html",'<div class="tab" ng-class="{ active : $ctrl.active}" ng-if="$ctrl.active === true"><ng-transclude></ng-transclude></div>')}])}(),function(module){try{module=angular.module("myApp")}catch(e){module=angular.module("myApp",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("tab/tabSet.html",'<ul class="tab-selector"><li ng-repeat="tab in $ctrl.tabs" ng-class="{ active: tab.active }" ng-click="$ctrl.selectTab(tab)">{{tab.header}}</li></ul><ng-transclude></ng-transclude>')}])}(),angular.module("listsMod",["ngStorage"]).component("listApp",{controller:["$scope","$http","$localStorage",function($scope,$http,$localStorage){var self=this;self.getLists=function(){void 0===$localStorage.lists?$http.get("assets/JSON/lists.json").then(function(res){console.log("Attempting to access data."),self.lists=res.data,self.saveListData()}):self.lists=localStorage.lists},self.incompleteFilter=function(){return function(list){return!list.listItems.completed||list.isNew}},self.loadListData=function(){self.lists=$localStorage.lists},self.saveListData=function(){$localStorage.lists=self.lists},self.addList=function(title){self.lists.push({title:title,isNew:!0,listItems:[]})},self.removeList=function(list){var index=self.lists.indexOf(list);self.lists.splice(index,1)},self.addListItem=function(list,newItem){newItem.isSelected=!1,newItem.completed=!1,list.isNew=!1;var newItemCopy=angular.copy(newItem);list.listItems.push(newItemCopy)},self.updateListItem=function(list,listItem){var listIndex=self.lists.indexOf(list),itemIndex=list.listItems.indexOf(listItem);angular.copy(listItem);self.lists[listIndex].listItems[itemIndex]=listItem},self.removeListItem=function(list,listItem){var listIndex=self.lists.indexOf(list),itemIndex=list.listItems.indexOf(listItem);self.lists[listIndex].listItems.splice(itemIndex,1)},self.toggleCompleted=function(listType,list){for(var liIsSelected,liLength=list.listItems.length,index=self.lists.indexOf(list),i=0;i<liLength;i++)!0===(liIsSelected=list.listItems[i].isSelected)&&"incomplete"===listType?list.listItems[i].completed=!0:!0===liIsSelected&&"completed"===listType&&(list.listItems[i].completed=!1);setUnSelected(),self.lists[index]=angular.copy(list)};var setUnSelected=function(){var i,a,theList,liLength,listsLength=self.lists.length;for(i=0;i<listsLength;i++)for(liLength=(theList=self.lists[i]).listItems.length,a=0;a<liLength;a++)theList.listItems[a].isSelected=!1};self.getLists(),void 0!==$localStorage.lists&&self.loadListData()}],template:'<list-tables lists="$ctrl.lists" incomplete-filter="$ctrl.incompleteFilter" add-list-item="$ctrl.addListItem" remove-list="$ctrl.removeList" remove-list-item="$ctrl.removeListItem" update-list-item="$ctrl.updateListItem" toggle-completed="$ctrl.toggleCompleted" list-type="$ctrl.listType"></list-tables><div ng-hide="$ctrl.listType===\'completed\'"><div id="formSeperator"></div><div id="newListForm"><new-list-form add-list="$ctrl.addList"></new-list-form></div></div>',bindings:{listType:"@"}}),angular.module("listsMod").component("listTables",{bindings:{lists:"<",incompleteFilter:"&",addListItem:"&",removeList:"&",removeListItem:"&",updateListItem:"&",toggleCompleted:"&",listType:"<"},template:'<div ng-switch="$ctrl.listType"><ul class="lists" ng-switch-when="incomplete"><incomplete-list-form list="list" list-type="$ctrl.listType" add-list-item="$ctrl.addListItem()" remove-list="$ctrl.removeList()" remove-list-item="$ctrl.removeListItem()" update-list-item="$ctrl.updateListItem()" toggle-completed="$ctrl.toggleCompleted()" ng-repeat="list in $ctrl.lists | filter: $ctrl.incompleteFilter"></incomplete-list-form></ul><ul class="lists" ng-switch-when="completed"><completed-list-form list="list" list-type="$ctrl.listType" remove-list="$ctrl.removeList()" remove-list-item="$ctrl.removeListItem()" update-list-item="$ctrl.updateListItem()" toggle-completed="$ctrl.toggleCompleted()" ng-repeat="list in $ctrl.lists | filter: {listItems: {completed: true}}"></completed-list-form></ul></div>'}),angular.module("listsMod").component("incompleteListForm",{bindings:{list:"<",incompleteFilter:"&",addListItem:"&",removeList:"&",removeListItem:"&",updateListItem:"&",toggleCompleted:"&",listType:"<"},template:'<form name="listSetForm{{$index}}" novalidate id="listsForm"><li id="titleListItem"><label id="list_title">{{$ctrl.list.title}}</label> <input type="submit" name="btnDelete" ng-click="$ctrl.removeList()($ctrl.list)" value="Delete List"><table class="listTable"><tr class="listTR"><th class="listTH">&#10003;</th><th class="listTH">Title</th><th class="listTH">Description</th><th class="listTH">Remove</th></tr><tr class="list" ng-repeat="listItem in $ctrl.list.listItems" ng-hide="listItem.completed===true"><td class="checkCol"><input type="checkbox" id="chkIsSelected" ng-checked="{{listItem.isSelected}}" ng-model="listItem.isSelected" ng-click="$ctrl.updateListItem()($ctrl.list, listItem)"></td><td class="listTD"><label class="cellListData">{{listItem.title}}</label></td><td class="listTD"><label class="cellListData">{{listItem.description}}</label></td><td class="listTD"><a ng-click="$ctrl.removeListItem()($ctrl.list, listItem)">remove</a></td></tr><tr><td class="corner-symbol">+</td><td class="newItemTD"><input type="text" name="txtTitle" ng-model="newItem.title" required></td><td class="newItemTD"><input type="text" name="txtDesc" ng-model="newItem.description" required></td><td class="newItemTD"><input type="submit" class="newItemBtn" name="btnNewItem" ng-disabled="listSetForm.$invalid" ng-click="$ctrl.addListItem()($ctrl.list, newItem)"></td></tr></table></li><input type="submit" name="setCompletedBtn" class="toggleBtn" ng-click="$ctrl.toggleCompleted()($ctrl.listType, $ctrl.list)" value="Move to Completed"> <span class="error-notification" ng-if="listSetForm.txtTitle.$invalid && listSetForm.txtTitle.$dirty || listSetForm.txtDesc.$invalid && listSetForm.txtDesc.$dirty">Please include a valid title and description.</span></form>'}),angular.module("listsMod").component("completedListForm",{bindings:{list:"<",addListItem:"&",removeList:"&",removeListItem:"&",updateListItem:"&",toggleCompleted:"&",listType:"<"},template:'<form name="listSetForm{{$index}}" novalidate id="listsForm"><li id="titleListItem"><label id="list_title">{{$ctrl.list.title}}</label> <input type="submit" ng-click="$ctrl.removeList()($ctrl.list)" value="Delete List"><table class="listTable"><tr class="listTR"><th class="listTH">&#10003;</th><th class="listTH">Title</th><th class="listTH">Description</th><th class="listTH">Remove</th></tr><tr class="list" ng-repeat="listItem in $ctrl.list.listItems" ng-hide="listItem.completed===false"><td class="checkCol"><input type="checkbox" id="chkIsSelected" ng-checked="{{listItem.isSelected}}" ng-model="listItem.isSelected" ng-click="$ctrl.updateListItem()($ctrl.list, listItem)"></td><td class="listTD"><label class="cellListData">{{listItem.title}}</label></td><td class="listTD"><label class="cellListData">{{listItem.description}}</label></td><td class="listTD"><a ng-click="$ctrl.removeListItem()($ctrl.list, listItem)">remove</a></td></tr></table><input type="submit" name="setIncompletedBtn" class="toggleBtn" ng-click="$ctrl.toggleCompleted()($ctrl.listType, $ctrl.list)" value="Move to Incomplete"></li></form>'}),angular.module("listsMod").component("newListForm",{bindings:{addList:"&"},template:'<form name="newListForm"><label>New List Title:</label><input type="text" ng-model="title" required> <input type="submit" ng-click="$ctrl.addList()(title)"></form>'}),angular.module("tabMod",[]).component("tabSet",{controller:"tabSetCtrl",template:'<ul class="tab-selector"><li ng-repeat="tab in $ctrl.tabs" ng-class="{ active: tab.active }" ng-click="$ctrl.selectTab(tab)">{{tab.header}}</li></ul><ng-transclude></ng-transclude>',transclude:!0}),angular.module("tabMod").controller("tabSetCtrl",["$scope","$element","$attrs",function($scope,$element,$attrs){console.log("Entered tabSet controller.");var self=this;self.tabs=[],self.addTab=function(tab){self.tabs.push(tab),1===self.tabs.length&&self.selectTab(tab)},self.selectTab=function(tab){angular.forEach(self.tabs,function(tab){tab.active=!1}),tab.active=!0}}]),angular.module("tabMod").component("tabPane",{template:'<div class="tab" ng-class="{ active : $ctrl.active}" ng-if="$ctrl.active === true"><ng-transclude></ng-transclude></div>',transclude:!0,controller:["$scope","$element","$attrs",function($scope,$element,$attrs){console.log("Entered tab controller");var self=this;self.$onInit=function(){self.$OnInit=self.tabSet.addTab(this)}}],bindings:{header:"@"},require:{tabSet:"^tabSet"}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYXBoaWNEaXNwbGF5L2dyYXBoaWNEaXNwbGF5LmpzIiwibGlzdHMvY29tcGxldGVkTGlzdEZvcm0uanMiLCJteUFwcC5qcyIsImxpc3RzL2luY29tcGxldGVMaXN0Rm9ybS5qcyIsImxpc3RzL2xpc3RBcHAuanMiLCJsaXN0cy9saXN0VGFibGVzLmpzIiwibGlzdHMvbmV3TGlzdEZvcm0uanMiLCJ0YWIvdGFiLmpzIiwidGFiL3RhYlNldC5qcyIsImxpc3RzL2xpc3RzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImFuZ3VsYXIiLCJlIiwicnVuIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiLCJjb21wb25lbnQiLCJjb250cm9sbGVyIiwidGVtcGxhdGUiLCJiaW5kaW5ncyIsInN2Z0hlaWdodCIsInN2Z1dpZHRoIiwiJHNjb3BlIiwiJHRpbWVvdXQiLCJkMyIsImNzdiIsImQiLCJyZXN1bHQiLCJlcnJvciIsImRhdGEiLCJzdmciLCJzZWxlY3QiLCJtYXJnaW4iLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJoZWlnaHQiLCJhdHRyIiwid2lkdGgiLCJ4Iiwic2NhbGVCYW5kIiwicmFuZ2VSb3VuZCIsInBhZGRpbmciLCJ5Iiwic2NhbGVMaW5lYXIiLCJncmFwaCIsImFwcGVuZCIsImRvbWFpbiIsIm1hcCIsImNvbHVtbiIsIm1heCIsImNhbGwiLCJheGlzQm90dG9tIiwiYXhpc0xlZnQiLCJ0aWNrcyIsInRleHQiLCJzZWxlY3RBbGwiLCJlbnRlciIsImJhbmR3aWR0aCIsIiRodHRwIiwiJGxvY2FsU3RvcmFnZSIsInNlbGYiLCJ0aGlzIiwiZ2V0TGlzdHMiLCJsaXN0cyIsImdldCIsInRoZW4iLCJyZXMiLCJjb25zb2xlIiwibG9nIiwic2F2ZUxpc3REYXRhIiwibG9jYWxTdG9yYWdlIiwiaW5jb21wbGV0ZUZpbHRlciIsImxpc3QiLCJsaXN0SXRlbXMiLCJjb21wbGV0ZWQiLCJpc05ldyIsImxvYWRMaXN0RGF0YSIsImFkZExpc3QiLCJ0aXRsZSIsInB1c2giLCJyZW1vdmVMaXN0IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiYWRkTGlzdEl0ZW0iLCJuZXdJdGVtIiwiaXNTZWxlY3RlZCIsIm5ld0l0ZW1Db3B5IiwiY29weSIsInVwZGF0ZUxpc3RJdGVtIiwibGlzdEl0ZW0iLCJsaXN0SW5kZXgiLCJpdGVtSW5kZXgiLCJyZW1vdmVMaXN0SXRlbSIsInRvZ2dsZUNvbXBsZXRlZCIsImxpc3RUeXBlIiwibGlJc1NlbGVjdGVkIiwibGlMZW5ndGgiLCJsZW5ndGgiLCJpIiwic2V0VW5TZWxlY3RlZCIsImEiLCJ0aGVMaXN0IiwibGlzdHNMZW5ndGgiLCJ0cmFuc2NsdWRlIiwiJGVsZW1lbnQiLCIkYXR0cnMiLCJ0YWJzIiwiYWRkVGFiIiwidGFiIiwic2VsZWN0VGFiIiwiZm9yRWFjaCIsImFjdGl2ZSIsIiRvbkluaXQiLCIkT25Jbml0IiwidGFiU2V0IiwiaGVhZGVyIiwicmVxdWlyZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsUUFDQSxJQUNBQSxPQUFBQyxRQUFBRCxPQUFBLFNBQ0EsTUFBQUUsR0FDQUYsT0FBQUMsUUFBQUQsT0FBQSxZQUVBQSxPQUFBRyxLQUFBLGlCQUFBLFNBQUFDLGdCQUNBQSxlQUFBQyxJQUFBLHFDQUNBLHlEQ1JBLFNBQUFMLFFBQ0EsSUFDQUEsT0FBQUMsUUFBQUQsT0FBQSxTQUNBLE1BQUFFLEdBQ0FGLE9BQUFDLFFBQUFELE9BQUEsWUFFQUEsT0FBQUcsS0FBQSxpQkFBQSxTQUFBQyxnQkFDQUEsZUFBQUMsSUFBQSwrQkFDQSw2bUNDUkFKLFFBQUFELE9BQUEsU0FDQSxXQUNBLFNBQ0Esc0JDSEEsU0FBQUEsUUFDQSxJQUNBQSxPQUFBQyxRQUFBRCxPQUFBLFNBQ0EsTUFBQUUsR0FDQUYsT0FBQUMsUUFBQUQsT0FBQSxZQUVBQSxPQUFBRyxLQUFBLGlCQUFBLFNBQUFDLGdCQUNBQSxlQUFBQyxJQUFBLGdDQUNBLDZ1REhSQUosUUFBQUQsT0FBQSx3QkFBQU0sVUFBQSxrQkFDQUMsV0FBQSxxQkFDQUMsU0FBQSxrREFDQUMsVUFDQUMsVUFBQSxJQUNBQyxTQUFBLE9BSUFWLFFBQUFELE9BQUEscUJBQUFPLFdBQUEsc0JBQUEsU0FBQSxXQUNBLFNBQUFLLE9BQUFDLFVBSUFDLEdBQUFDLElBQUEsYUFBQSxTQUFBQyxHQUVBLE9BREFBLEVBQUFDLFFBQUFELEVBQUFDLE9BQ0FELEdBQ0EsU0FBQUUsTUFBQUMsTUFDQSxHQUFBRCxNQUFBLE1BQUFBLE1BRUFMLFNBQUEsV0FHQSxJQUFBTyxJQUFBTixHQUFBTyxPQUFBLE9BQ0FDLFFBQUFDLElBQUEsR0FBQUMsTUFBQSxHQUFBQyxPQUFBLEdBQUFDLEtBQUEsSUFDQUMsUUFBQVAsSUFBQVEsS0FBQSxVQUFBTixPQUFBQyxJQUFBRCxPQUFBRyxPQUNBSSxPQUFBVCxJQUFBUSxLQUFBLFNBQUFOLE9BQUFJLEtBQUFKLE9BQUFFLE1BSUFNLEVBQUFoQixHQUFBaUIsWUFBQUMsWUFBQSxFQUFBSCxRQUFBSSxRQUFBLElBQ0FDLEVBQUFwQixHQUFBcUIsY0FBQUgsWUFBQUwsT0FBQSxJQUVBUyxNQUFBaEIsSUFBQWlCLE9BQUEsS0FDQVQsS0FBQSxZQUFBLGFBQUFOLE9BQUFJLEtBQUEsSUFBQUosT0FBQUMsSUFBQSxLQUlBTyxFQUFBUSxPQUFBbkIsS0FBQW9CLElBQUEsU0FBQXZCLEdBQUEsT0FBQUEsRUFBQXdCLFVBQ0FOLEVBQUFJLFFBQUEsRUFBQXhCLEdBQUEyQixJQUFBdEIsS0FBQSxTQUFBSCxHQUFBLE9BQUFBLEVBQUFDLFdBRUFtQixNQUFBQyxPQUFBLEtBQ0FULEtBQUEsUUFBQSxnQkFDQUEsS0FBQSxZQUFBLGVBQUFELE9BQUEsS0FDQWUsS0FBQTVCLEdBQUE2QixXQUFBYixJQUVBTSxNQUFBQyxPQUFBLEtBQ0FULEtBQUEsUUFBQSxnQkFDQWMsS0FBQTVCLEdBQUE4QixTQUFBVixHQUFBVyxNQUFBLEdBQUEsTUFDQVIsT0FBQSxRQUNBVCxLQUFBLFlBQUEsZUFDQUEsS0FBQSxJQUFBLEdBQ0FBLEtBQUEsS0FBQSxVQUNBQSxLQUFBLGNBQUEsT0FDQWtCLEtBQUEsVUFFQVYsTUFBQVcsVUFBQSxRQUNBNUIsS0FBQUEsTUFDQTZCLFFBQUFYLE9BQUEsUUFDQVQsS0FBQSxRQUFBLE9BQ0FBLEtBQUEsSUFBQSxTQUFBWixHQUFBLE9BQUFjLEVBQUFkLEVBQUF3QixVQUNBWixLQUFBLElBQUEsU0FBQVosR0FBQSxPQUFBa0IsRUFBQWxCLEVBQUFDLFVBQ0FXLEtBQUEsUUFBQUUsRUFBQW1CLGFBQ0FyQixLQUFBLFNBQUEsU0FBQVosR0FDQSxPQUFBVyxPQUFBTyxFQUFBbEIsRUFBQUMsaUJJaEVBLFNBQUFqQixRQUNBLElBQ0FBLE9BQUFDLFFBQUFELE9BQUEsU0FDQSxNQUFBRSxHQUNBRixPQUFBQyxRQUFBRCxPQUFBLFlBRUFBLE9BQUFHLEtBQUEsaUJBQUEsU0FBQUMsZ0JBQ0FBLGVBQUFDLElBQUEscUJBQ0EsK2RDUkEsU0FBQUwsUUFDQSxJQUNBQSxPQUFBQyxRQUFBRCxPQUFBLFNBQ0EsTUFBQUUsR0FDQUYsT0FBQUMsUUFBQUQsT0FBQSxZQUVBQSxPQUFBRyxLQUFBLGlCQUFBLFNBQUFDLGdCQUNBQSxlQUFBQyxJQUFBLHdCQUNBLHl5QkNSQSxTQUFBTCxRQUNBLElBQ0FBLE9BQUFDLFFBQUFELE9BQUEsU0FDQSxNQUFBRSxHQUNBRixPQUFBQyxRQUFBRCxPQUFBLFlBRUFBLE9BQUFHLEtBQUEsaUJBQUEsU0FBQUMsZ0JBQ0FBLGVBQUFDLElBQUEseUJBQ0EsNktDUkEsU0FBQUwsUUFDQSxJQUNBQSxPQUFBQyxRQUFBRCxPQUFBLFNBQ0EsTUFBQUUsR0FDQUYsT0FBQUMsUUFBQUQsT0FBQSxZQUVBQSxPQUFBRyxLQUFBLGlCQUFBLFNBQUFDLGdCQUNBQSxlQUFBQyxJQUFBLGVBQ0Esa0lDUkEsU0FBQUwsUUFDQSxJQUNBQSxPQUFBQyxRQUFBRCxPQUFBLFNBQ0EsTUFBQUUsR0FDQUYsT0FBQUMsUUFBQUQsT0FBQSxZQUVBQSxPQUFBRyxLQUFBLGlCQUFBLFNBQUFDLGdCQUNBQSxlQUFBQyxJQUFBLGtCQUNBLDhMQ1JBSixRQUFBRCxPQUFBLFlBQUEsY0FBQU0sVUFBQSxXQUNBQyxZQUFBLFNBQUEsUUFBQSxnQkFBQSxTQUFBSyxPQUFBc0MsTUFBQUMsZUFDQSxJQUFBQyxLQUFBQyxLQUVBRCxLQUFBRSxTQUFBLGdCQUNBLElBQUFILGNBQUFJLE1BQ0FMLE1BQUFNLElBQUEsMEJBQUFDLEtBQUEsU0FBQUMsS0FDQUMsUUFBQUMsSUFBQSw4QkFDQVIsS0FBQUcsTUFBQUcsSUFBQXZDLEtBQ0FpQyxLQUFBUyxpQkFHQVQsS0FBQUcsTUFBQU8sYUFBQVAsT0FHQUgsS0FBQVcsaUJBQUEsV0FDQSxPQUFBLFNBQUFDLE1BQ0EsT0FBQUEsS0FBQUMsVUFBQUMsV0FBQUYsS0FBQUcsUUFJQWYsS0FBQWdCLGFBQUEsV0FDQWhCLEtBQUFHLE1BQUFKLGNBQUFJLE9BR0FILEtBQUFTLGFBQUEsV0FDQVYsY0FBQUksTUFBQUgsS0FBQUcsT0FHQUgsS0FBQWlCLFFBQUEsU0FBQUMsT0FDQWxCLEtBQUFHLE1BQUFnQixNQUFBRCxNQUFBQSxNQUNBSCxPQUFBLEVBQ0FGLGdCQUlBYixLQUFBb0IsV0FBQSxTQUFBUixNQUNBLElBQUFTLE1BQUFyQixLQUFBRyxNQUFBbUIsUUFBQVYsTUFDQVosS0FBQUcsTUFBQW9CLE9BQUFGLE1BQUEsSUFHQXJCLEtBQUF3QixZQUFBLFNBQUFaLEtBQUFhLFNBQ0FBLFFBQUFDLFlBQUEsRUFDQUQsUUFBQVgsV0FBQSxFQUNBRixLQUFBRyxPQUFBLEVBQ0EsSUFBQVksWUFBQTlFLFFBQUErRSxLQUFBSCxTQUNBYixLQUFBQyxVQUFBTSxLQUFBUSxjQUdBM0IsS0FBQTZCLGVBQUEsU0FBQWpCLEtBQUFrQixVQUNBLElBQUFDLFVBQUEvQixLQUFBRyxNQUFBbUIsUUFBQVYsTUFDQW9CLFVBQUFwQixLQUFBQyxVQUFBUyxRQUFBUSxVQUNBakYsUUFBQStFLEtBQUFFLFVBQ0E5QixLQUFBRyxNQUFBNEIsV0FBQWxCLFVBQUFtQixXQUFBRixVQUdBOUIsS0FBQWlDLGVBQUEsU0FBQXJCLEtBQUFrQixVQUNBLElBQUFDLFVBQUEvQixLQUFBRyxNQUFBbUIsUUFBQVYsTUFDQW9CLFVBQUFwQixLQUFBQyxVQUFBUyxRQUFBUSxVQUNBOUIsS0FBQUcsTUFBQTRCLFdBQUFsQixVQUFBVSxPQUFBUyxVQUFBLElBR0FoQyxLQUFBa0MsZ0JBQUEsU0FBQUMsU0FBQXZCLE1BSUEsSUFBQSxJQURBd0IsYUFGQUMsU0FBQXpCLEtBQUFDLFVBQUF5QixPQUNBakIsTUFBQXJCLEtBQUFHLE1BQUFtQixRQUFBVixNQUVBMkIsRUFBQSxFQUFBQSxFQUFBRixTQUFBRSxLQUVBLEtBREFILGFBQUF4QixLQUFBQyxVQUFBMEIsR0FBQWIsYUFDQSxlQUFBUyxTQUNBdkIsS0FBQUMsVUFBQTBCLEdBQUF6QixXQUFBLEdBQ0EsSUFBQXNCLGNBQUEsY0FBQUQsV0FDQXZCLEtBQUFDLFVBQUEwQixHQUFBekIsV0FBQSxHQUdBMEIsZ0JBQ0F4QyxLQUFBRyxNQUFBa0IsT0FBQXhFLFFBQUErRSxLQUFBaEIsT0FHQSxJQUFBNEIsY0FBQSxXQUNBLElBQ0FELEVBQUFFLEVBQUFDLFFBQUFMLFNBREFNLFlBQUEzQyxLQUFBRyxNQUFBbUMsT0FFQSxJQUFBQyxFQUFBLEVBQUFBLEVBQUFJLFlBQUFKLElBR0EsSUFEQUYsVUFEQUssUUFBQTFDLEtBQUFHLE1BQUFvQyxJQUNBMUIsVUFBQXlCLE9BQ0FHLEVBQUEsRUFBQUEsRUFBQUosU0FBQUksSUFDQUMsUUFBQTdCLFVBQUE0QixHQUFBZixZQUFBLEdBSUExQixLQUFBRSxnQkFDQSxJQUFBSCxjQUFBSSxPQUNBSCxLQUFBZ0IsaUJBR0E1RCxTQUFBLHdkQUNBQyxVQUNBOEUsU0FBQSxPQUtBdEYsUUFBQUQsT0FBQSxZQUFBTSxVQUFBLGNBQ0FHLFVBQ0E4QyxNQUFBLElBQ0FRLGlCQUFBLElBQ0FhLFlBQUEsSUFDQUosV0FBQSxJQUNBYSxlQUFBLElBQ0FKLGVBQUEsSUFDQUssZ0JBQUEsSUFDQUMsU0FBQSxLQUVBL0UsU0FBQSxveUJBR0FQLFFBQUFELE9BQUEsWUFBQU0sVUFBQSxzQkFDQUcsVUFDQXVELEtBQUEsSUFDQUQsaUJBQUEsSUFDQWEsWUFBQSxJQUNBSixXQUFBLElBQ0FhLGVBQUEsSUFDQUosZUFBQSxJQUNBSyxnQkFBQSxJQUNBQyxTQUFBLEtBRUEvRSxTQUFBLG91REFHQVAsUUFBQUQsT0FBQSxZQUFBTSxVQUFBLHFCQUNBRyxVQUNBdUQsS0FBQSxJQUNBWSxZQUFBLElBQ0FKLFdBQUEsSUFDQWEsZUFBQSxJQUNBSixlQUFBLElBQ0FLLGdCQUFBLElBQ0FDLFNBQUEsS0FFQS9FLFNBQUEsb21DQUdBUCxRQUFBRCxPQUFBLFlBQUFNLFVBQUEsZUFDQUcsVUFDQTRELFFBQUEsS0FFQTdELFNBQUEsd0tGbEpBUCxRQUFBRCxPQUFBLGFBQUFNLFVBQUEsVUFDQUMsV0FBQSxhQUNBQyxTQUFBLHVMQUNBd0YsWUFBQSxJQUdBL0YsUUFBQUQsT0FBQSxVQUFBTyxXQUFBLGNBQUEsU0FBQSxXQUFBLFNBQUEsU0FBQUssT0FBQXFGLFNBQUFDLFFBQ0F2QyxRQUFBQyxJQUFBLDhCQUNBLElBQUFSLEtBQUFDLEtBQ0FELEtBQUErQyxRQUNBL0MsS0FBQWdELE9BQUEsU0FBQUMsS0FDQWpELEtBQUErQyxLQUFBNUIsS0FBQThCLEtBQ0EsSUFBQWpELEtBQUErQyxLQUFBVCxRQUNBdEMsS0FBQWtELFVBQUFELE1BR0FqRCxLQUFBa0QsVUFBQSxTQUFBRCxLQUNBcEcsUUFBQXNHLFFBQUFuRCxLQUFBK0MsS0FBQSxTQUFBRSxLQUNBQSxJQUFBRyxRQUFBLElBRUFILElBQUFHLFFBQUEsTUFJQXZHLFFBQUFELE9BQUEsVUFBQU0sVUFBQSxXQUNBRSxTQUFBLDJIQUNBd0YsWUFBQSxFQUNBekYsWUFBQSxTQUFBLFdBQUEsU0FBQSxTQUFBSyxPQUFBcUYsU0FBQUMsUUFDQXZDLFFBQUFDLElBQUEsMEJBQ0EsSUFBQVIsS0FBQUMsS0FDQUQsS0FBQXFELFFBQUEsV0FDQXJELEtBQUFzRCxRQUFBdEQsS0FBQXVELE9BQUFQLE9BQUEvQyxTQUdBNUMsVUFDQW1HLE9BQUEsS0FFQUMsU0FDQUYsT0FBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoXCJncmFwaGljRGlzcGxheU1vZFwiLFtdKS5jb21wb25lbnQoJ2dyYXBoaWNEaXNwbGF5Jywge1xuICBjb250cm9sbGVyOiAnZ3JhcGhpY0Rpc3BsYXlDdHJsJyxcbiAgdGVtcGxhdGU6JzxkaXY+PHN2ZyB3aWR0aD1cIjcyMFwiIGhlaWdodD1cIjQ4MFwiPjwvc3ZnPjwvZGl2PicsXG4gIGJpbmRpbmdzOiB7XG4gICAgc3ZnSGVpZ2h0OiAnPCcsXG4gICAgc3ZnV2lkdGg6ICc8J1xuICB9XG59KTtcblxuYW5ndWxhci5tb2R1bGUoXCJncmFwaGljRGlzcGxheU1vZFwiKS5jb250cm9sbGVyKCdncmFwaGljRGlzcGxheUN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsIFxuICBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0KSB7XG4gIFxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIFxuICAgIGQzLmNzdihcIklMV2RtMS5jc3ZcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgZC5yZXN1bHQgPSArZC5yZXN1bHQ7XG4gICAgICByZXR1cm4gZDtcbiAgICB9LCBmdW5jdGlvbihlcnJvciwgZGF0YSkge1xuICAgICAgaWYoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAkdGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy9jcmVhdGUgc3ZnIG1haW4gZGltZW5zaW9uc1xuICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KFwic3ZnXCIpO1xuICAgICAgICB2YXIgbWFyZ2luID0ge3RvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiAyMCwgbGVmdDogMjB9O1xuICAgICAgICB2YXIgaGVpZ2h0ID0gK3N2Zy5hdHRyKFwiaGVpZ2h0XCIpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gICAgICAgIHZhciB3aWR0aCA9ICtzdmcuYXR0cihcIndpZHRoXCIpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG5cbiAgICAgICAgLy9jcmVhdGUgYmFyIHNjYWxlc1xuICAgICAgICAvL1RPRE86IHNjYWxlIHRvIGRhdGEgc2l6ZVxuICAgICAgICB2YXIgeCA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlUm91bmQoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpO1xuICAgICAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cbiAgICAgICAgdmFyIGdyYXBoID0gc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG5cbiAgICAgICAgLy9TZXRzIGJvdW5kcyBmb3IgeCBhbmQgeT9cbiAgICAgICAgeC5kb21haW4oZGF0YS5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jb2x1bW47IH0pKTtcbiAgICAgICAgeS5kb21haW4oWzAsIGQzLm1heChkYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnJlc3VsdDsgfSldKTtcblxuICAgICAgICBncmFwaC5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXMgYXhpcy0teFwiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKTtcblxuICAgICAgICBncmFwaC5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXMgYXhpcy0teVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKDEwLCBcIiVcIikpXG4gICAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSgtOTApXCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDYpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIjAuNzFlbVwiKVxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcbiAgICAgICAgICAudGV4dChcIlJlc3VsdFwiKTtcblxuICAgICAgICBncmFwaC5zZWxlY3RBbGwoXCIuYmFyXCIpXG4gICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJhclwiKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4KGQuY29sdW1uKTsgfSlcbiAgICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geShkLnJlc3VsdCk7IH0pXG4gICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB4LmJhbmR3aWR0aCgpKVxuICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uKGQpIHsgXG4gICAgICAgICAgICByZXR1cm4gaGVpZ2h0IC0geShkLnJlc3VsdCk7IFxuICAgICAgICAgIH0pOyBcbiAgICAgIH0pO1xuICAgIH0pO1xuICBcbn1dKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2xpc3RzL2NvbXBsZXRlZExpc3RGb3JtLmh0bWwnLFxuICAgICc8Zm9ybSBuYW1lPVwibGlzdFNldEZvcm17eyRpbmRleH19XCIgbm92YWxpZGF0ZSBpZD1cImxpc3RzRm9ybVwiPjxsaSBpZD1cInRpdGxlTGlzdEl0ZW1cIj48bGFiZWwgaWQ9XCJsaXN0X3RpdGxlXCI+e3skY3RybC5saXN0LnRpdGxlfX08L2xhYmVsPjxpbnB1dCB0eXBlPVwic3VibWl0XCIgbmctY2xpY2s9XCIkY3RybC5yZW1vdmVMaXN0KCkoJGN0cmwubGlzdClcIiB2YWx1ZT1cIkRlbGV0ZSBMaXN0XCI+PHRhYmxlIGNsYXNzPVwibGlzdFRhYmxlXCI+PHRyIGNsYXNzPVwibGlzdFRSXCI+PHRoIGNsYXNzPVwibGlzdFRIXCI+JiMxMDAwMzs8L3RoPjx0aCBjbGFzcz1cImxpc3RUSFwiPlRpdGxlPC90aD48dGggY2xhc3M9XCJsaXN0VEhcIj5EZXNjcmlwdGlvbjwvdGg+PHRoIGNsYXNzPVwibGlzdFRIXCI+UmVtb3ZlPC90aD48L3RyPjx0ciBjbGFzcz1cImxpc3RcIiBuZy1yZXBlYXQ9XCJsaXN0SXRlbSBpbiAkY3RybC5saXN0Lmxpc3RJdGVtc1wiIG5nLWhpZGU9XCJsaXN0SXRlbS5jb21wbGV0ZWQ9PT1mYWxzZVwiPjx0ZCBjbGFzcz1cImNoZWNrQ29sXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiY2hrSXNTZWxlY3RlZFwiIG5nLWNoZWNrZWQ9XCJ7e2xpc3RJdGVtLmlzU2VsZWN0ZWR9fVwiIG5nLW1vZGVsPVwibGlzdEl0ZW0uaXNTZWxlY3RlZFwiIG5nLWNsaWNrPVwiJGN0cmwudXBkYXRlTGlzdEl0ZW0oKSgkY3RybC5saXN0LCBsaXN0SXRlbSlcIj48L3RkPjx0ZCBjbGFzcz1cImxpc3RURFwiPjxsYWJlbCBjbGFzcz1cImNlbGxMaXN0RGF0YVwiPnt7bGlzdEl0ZW0udGl0bGV9fTwvbGFiZWw+PC90ZD48dGQgY2xhc3M9XCJsaXN0VERcIj48bGFiZWwgY2xhc3M9XCJjZWxsTGlzdERhdGFcIj57e2xpc3RJdGVtLmRlc2NyaXB0aW9ufX08L2xhYmVsPjwvdGQ+PHRkIGNsYXNzPVwibGlzdFREXCI+PGEgaHJlZiBuZy1jbGljaz1cIiRjdHJsLnJlbW92ZUxpc3RJdGVtKCkoJGN0cmwubGlzdCwgbGlzdEl0ZW0pXCI+cmVtb3ZlPC9hPjwvdGQ+PC90cj48L3RhYmxlPjxpbnB1dCB0eXBlPVwic3VibWl0XCIgbmFtZT1cInNldEluY29tcGxldGVkQnRuXCIgY2xhc3M9XCJ0b2dnbGVCdG5cIiBuZy1jbGljaz1cIiRjdHJsLnRvZ2dsZUNvbXBsZXRlZCgpKCRjdHJsLmxpc3RUeXBlLCAkY3RybC5saXN0KVwiIHZhbHVlPVwiTW92ZSB0byBJbmNvbXBsZXRlXCI+PC9saT48L2Zvcm0+Jyk7XG59XSk7XG59KSgpO1xuIiwiYW5ndWxhci5tb2R1bGUoXCJteUFwcFwiLCBbXG4gICdsaXN0c01vZCcsXG4gICd0YWJNb2QnLFxuICAnZ3JhcGhpY0Rpc3BsYXlNb2QnXG4gIF0pO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnbGlzdHMvaW5jb21wbGV0ZUxpc3RGb3JtLmh0bWwnLFxuICAgICc8Zm9ybSBuYW1lPVwibGlzdFNldEZvcm17eyRpbmRleH19XCIgbm92YWxpZGF0ZSBpZD1cImxpc3RzRm9ybVwiPjxsaSBpZD1cInRpdGxlTGlzdEl0ZW1cIj48bGFiZWwgaWQ9XCJsaXN0X3RpdGxlXCI+e3skY3RybC5saXN0LnRpdGxlfX08L2xhYmVsPjxpbnB1dCB0eXBlPVwic3VibWl0XCIgbmFtZT1cImJ0bkRlbGV0ZVwiIG5nLWNsaWNrPVwiJGN0cmwucmVtb3ZlTGlzdCgpKCRjdHJsLmxpc3QpXCIgdmFsdWU9XCJEZWxldGUgTGlzdFwiPjx0YWJsZSBjbGFzcz1cImxpc3RUYWJsZVwiPjx0ciBjbGFzcz1cImxpc3RUUlwiPjx0aCBjbGFzcz1cImxpc3RUSFwiPiYjMTAwMDM7PC90aD48dGggY2xhc3M9XCJsaXN0VEhcIj5UaXRsZTwvdGg+PHRoIGNsYXNzPVwibGlzdFRIXCI+RGVzY3JpcHRpb248L3RoPjx0aCBjbGFzcz1cImxpc3RUSFwiPlJlbW92ZTwvdGg+PC90cj48dHIgY2xhc3M9XCJsaXN0XCIgbmctcmVwZWF0PVwibGlzdEl0ZW0gaW4gJGN0cmwubGlzdC5saXN0SXRlbXNcIiBuZy1oaWRlPVwibGlzdEl0ZW0uY29tcGxldGVkPT09dHJ1ZVwiPjx0ZCBjbGFzcz1cImNoZWNrQ29sXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiY2hrSXNTZWxlY3RlZFwiIG5nLWNoZWNrZWQ9XCJ7e2xpc3RJdGVtLmlzU2VsZWN0ZWR9fVwiIG5nLW1vZGVsPVwibGlzdEl0ZW0uaXNTZWxlY3RlZFwiIG5nLWNsaWNrPVwiJGN0cmwudXBkYXRlTGlzdEl0ZW0oKSgkY3RybC5saXN0LCBsaXN0SXRlbSlcIj48L3RkPjx0ZCBjbGFzcz1cImxpc3RURFwiPjxsYWJlbCBjbGFzcz1cImNlbGxMaXN0RGF0YVwiPnt7bGlzdEl0ZW0udGl0bGV9fTwvbGFiZWw+PC90ZD48dGQgY2xhc3M9XCJsaXN0VERcIj48bGFiZWwgY2xhc3M9XCJjZWxsTGlzdERhdGFcIj57e2xpc3RJdGVtLmRlc2NyaXB0aW9ufX08L2xhYmVsPjwvdGQ+PHRkIGNsYXNzPVwibGlzdFREXCI+PGEgaHJlZiBuZy1jbGljaz1cIiRjdHJsLnJlbW92ZUxpc3RJdGVtKCkoJGN0cmwubGlzdCwgbGlzdEl0ZW0pXCI+cmVtb3ZlPC9hPjwvdGQ+PC90cj48dHI+PHRkIGNsYXNzPVwiY29ybmVyLXN5bWJvbFwiPis8L3RkPjx0ZCBjbGFzcz1cIm5ld0l0ZW1URFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0eHRUaXRsZVwiIG5nLW1vZGVsPVwibmV3SXRlbS50aXRsZVwiIHJlcXVpcmVkPjwvdGQ+PHRkIGNsYXNzPVwibmV3SXRlbVREXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInR4dERlc2NcIiBuZy1tb2RlbD1cIm5ld0l0ZW0uZGVzY3JpcHRpb25cIiByZXF1aXJlZD48L3RkPjx0ZCBjbGFzcz1cIm5ld0l0ZW1URFwiPjxpbnB1dCB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJuZXdJdGVtQnRuXCIgbmFtZT1cImJ0bk5ld0l0ZW1cIiBuZy1kaXNhYmxlZD1cImxpc3RTZXRGb3JtLiRpbnZhbGlkXCIgbmctY2xpY2s9XCIkY3RybC5hZGRMaXN0SXRlbSgpKCRjdHJsLmxpc3QsIG5ld0l0ZW0pXCI+PC90ZD48L3RyPjwvdGFibGU+PC9saT48aW5wdXQgdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJzZXRDb21wbGV0ZWRCdG5cIiBjbGFzcz1cInRvZ2dsZUJ0blwiIG5nLWNsaWNrPVwiJGN0cmwudG9nZ2xlQ29tcGxldGVkKCkoJGN0cmwubGlzdFR5cGUsICRjdHJsLmxpc3QpXCIgdmFsdWU9XCJNb3ZlIHRvIENvbXBsZXRlZFwiPiA8c3BhbiBjbGFzcz1cImVycm9yLW5vdGlmaWNhdGlvblwiIG5nLWlmPVwibGlzdFNldEZvcm0udHh0VGl0bGUuJGludmFsaWQgJiYgbGlzdFNldEZvcm0udHh0VGl0bGUuJGRpcnR5IHx8IGxpc3RTZXRGb3JtLnR4dERlc2MuJGludmFsaWQgJiYgbGlzdFNldEZvcm0udHh0RGVzYy4kZGlydHlcIj5QbGVhc2UgaW5jbHVkZSBhIHZhbGlkIHRpdGxlIGFuZCBkZXNjcmlwdGlvbi48L3NwYW4+PC9mb3JtPicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2xpc3RzL2xpc3RBcHAuaHRtbCcsXG4gICAgJzxsaXN0LXRhYmxlcyBsaXN0cz1cIiRjdHJsLmxpc3RzXCIgaW5jb21wbGV0ZS1maWx0ZXI9XCIkY3RybC5pbmNvbXBsZXRlRmlsdGVyXCIgYWRkLWxpc3QtaXRlbT1cIiRjdHJsLmFkZExpc3RJdGVtXCIgcmVtb3ZlLWxpc3Q9XCIkY3RybC5yZW1vdmVMaXN0XCIgcmVtb3ZlLWxpc3QtaXRlbT1cIiRjdHJsLnJlbW92ZUxpc3RJdGVtXCIgdXBkYXRlLWxpc3QtaXRlbT1cIiRjdHJsLnVwZGF0ZUxpc3RJdGVtXCIgdG9nZ2xlLWNvbXBsZXRlZD1cIiRjdHJsLnRvZ2dsZUNvbXBsZXRlZFwiIGxpc3QtdHlwZT1cIiRjdHJsLmxpc3RUeXBlXCI+PC9saXN0LXRhYmxlcz48ZGl2IG5nLWhpZGU9XCIkY3RybC5saXN0VHlwZT09PVxcJ2NvbXBsZXRlZFxcJ1wiPjxkaXYgaWQ9XCJmb3JtU2VwZXJhdG9yXCI+PC9kaXY+PGRpdiBpZD1cIm5ld0xpc3RGb3JtXCI+PG5ldy1saXN0LWZvcm0gYWRkLWxpc3Q9XCIkY3RybC5hZGRMaXN0XCI+PC9uZXctbGlzdC1mb3JtPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2xpc3RzL2xpc3RUYWJsZXMuaHRtbCcsXG4gICAgJzxkaXYgbmctc3dpdGNoPVwiJGN0cmwubGlzdFR5cGVcIj48dWwgY2xhc3M9XCJsaXN0c1wiIG5nLXN3aXRjaC13aGVuPVwiaW5jb21wbGV0ZVwiPjxpbmNvbXBsZXRlLWxpc3QtZm9ybSBsaXN0PVwibGlzdFwiIGxpc3QtdHlwZT1cIiRjdHJsLmxpc3RUeXBlXCIgYWRkLWxpc3QtaXRlbT1cIiRjdHJsLmFkZExpc3RJdGVtKClcIiByZW1vdmUtbGlzdD1cIiRjdHJsLnJlbW92ZUxpc3QoKVwiIHJlbW92ZS1saXN0LWl0ZW09XCIkY3RybC5yZW1vdmVMaXN0SXRlbSgpXCIgdXBkYXRlLWxpc3QtaXRlbT1cIiRjdHJsLnVwZGF0ZUxpc3RJdGVtKClcIiB0b2dnbGUtY29tcGxldGVkPVwiJGN0cmwudG9nZ2xlQ29tcGxldGVkKClcIiBuZy1yZXBlYXQ9XCJsaXN0IGluICRjdHJsLmxpc3RzIHwgZmlsdGVyOiAkY3RybC5pbmNvbXBsZXRlRmlsdGVyXCI+PC9pbmNvbXBsZXRlLWxpc3QtZm9ybT48L3VsPjx1bCBjbGFzcz1cImxpc3RzXCIgbmctc3dpdGNoLXdoZW49XCJjb21wbGV0ZWRcIj48Y29tcGxldGVkLWxpc3QtZm9ybSBsaXN0PVwibGlzdFwiIGxpc3QtdHlwZT1cIiRjdHJsLmxpc3RUeXBlXCIgcmVtb3ZlLWxpc3Q9XCIkY3RybC5yZW1vdmVMaXN0KClcIiByZW1vdmUtbGlzdC1pdGVtPVwiJGN0cmwucmVtb3ZlTGlzdEl0ZW0oKVwiIHVwZGF0ZS1saXN0LWl0ZW09XCIkY3RybC51cGRhdGVMaXN0SXRlbSgpXCIgdG9nZ2xlLWNvbXBsZXRlZD1cIiRjdHJsLnRvZ2dsZUNvbXBsZXRlZCgpXCIgbmctcmVwZWF0PVwibGlzdCBpbiAkY3RybC5saXN0cyB8IGZpbHRlcjoge2xpc3RJdGVtczoge2NvbXBsZXRlZDogdHJ1ZX19XCI+PC9jb21wbGV0ZWQtbGlzdC1mb3JtPjwvdWw+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnbGlzdHMvbmV3TGlzdEZvcm0uaHRtbCcsXG4gICAgJzxmb3JtIG5hbWU9XCJuZXdMaXN0Rm9ybVwiPjxsYWJlbD5OZXcgTGlzdCBUaXRsZTo8L2xhYmVsPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidGl0bGVcIiByZXF1aXJlZD4gPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBuZy1jbGljaz1cIiRjdHJsLmFkZExpc3QoKSh0aXRsZSlcIj48L2Zvcm0+Jyk7XG59XSk7XG59KSgpO1xuIiwiYW5ndWxhci5tb2R1bGUoXCJ0YWJNb2RcIixbXSkuY29tcG9uZW50KCd0YWJTZXQnLCB7XG4gIGNvbnRyb2xsZXI6ICd0YWJTZXRDdHJsJyxcbiAgdGVtcGxhdGU6Jzx1bCBjbGFzcz1cInRhYi1zZWxlY3RvclwiPjxsaSBuZy1yZXBlYXQ9XCJ0YWIgaW4gJGN0cmwudGFic1wiIG5nLWNsYXNzPVwieyBhY3RpdmU6IHRhYi5hY3RpdmUgfVwiIG5nLWNsaWNrPVwiJGN0cmwuc2VsZWN0VGFiKHRhYilcIj57e3RhYi5oZWFkZXJ9fTwvbGk+PC91bD48bmctdHJhbnNjbHVkZT48L25nLXRyYW5zY2x1ZGU+JyxcbiAgdHJhbnNjbHVkZTogdHJ1ZVxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGFiTW9kXCIpLmNvbnRyb2xsZXIoJ3RhYlNldEN0cmwnLCBbJyRzY29wZScsICckZWxlbWVudCcsICckYXR0cnMnLCBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpIHtcbiAgY29uc29sZS5sb2coXCJFbnRlcmVkIHRhYlNldCBjb250cm9sbGVyLlwiKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZWxmLnRhYnMgPSBbXTtcbiAgc2VsZi5hZGRUYWIgPSBmdW5jdGlvbih0YWIpIHtcbiAgICBzZWxmLnRhYnMucHVzaCh0YWIpO1xuICAgIGlmIChzZWxmLnRhYnMubGVuZ3RoID09PSAxKSB7XG4gICAgICBzZWxmLnNlbGVjdFRhYih0YWIpO1xuICAgIH1cbiAgfTtcbiAgc2VsZi5zZWxlY3RUYWIgPSBmdW5jdGlvbih0YWIpIHtcbiAgICBhbmd1bGFyLmZvckVhY2goc2VsZi50YWJzLCBmdW5jdGlvbih0YWIpIHtcbiAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICB9KTtcbiAgICB0YWIuYWN0aXZlID0gdHJ1ZTtcbiAgfTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0YWJNb2RcIikuY29tcG9uZW50KCd0YWJQYW5lJywge1xuICB0ZW1wbGF0ZTonPGRpdiBjbGFzcz1cInRhYlwiIG5nLWNsYXNzPVwieyBhY3RpdmUgOiAkY3RybC5hY3RpdmV9XCIgbmctaWY9XCIkY3RybC5hY3RpdmUgPT09IHRydWVcIj48bmctdHJhbnNjbHVkZT48L25nLXRyYW5zY2x1ZGU+PC9kaXY+JyxcbiAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnJGF0dHJzJywgZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG4gICAgY29uc29sZS5sb2coXCJFbnRlcmVkIHRhYiBjb250cm9sbGVyXCIpO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuJE9uSW5pdCA9IHNlbGYudGFiU2V0LmFkZFRhYih0aGlzKTtcbiAgICB9O1xuICB9XSxcbiAgYmluZGluZ3M6IHtcbiAgICBoZWFkZXI6ICdAJ1xuICB9LFxuICByZXF1aXJlOiB7XG4gICAgdGFiU2V0OiAnXnRhYlNldCdcbiAgfVxufSk7IiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgndGFiL3RhYlNldC5odG1sJyxcbiAgICAnPHVsIGNsYXNzPVwidGFiLXNlbGVjdG9yXCI+PGxpIG5nLXJlcGVhdD1cInRhYiBpbiAkY3RybC50YWJzXCIgbmctY2xhc3M9XCJ7IGFjdGl2ZTogdGFiLmFjdGl2ZSB9XCIgbmctY2xpY2s9XCIkY3RybC5zZWxlY3RUYWIodGFiKVwiPnt7dGFiLmhlYWRlcn19PC9saT48L3VsPjxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT4nKTtcbn1dKTtcbn0pKCk7XG4iLCJhbmd1bGFyLm1vZHVsZShcImxpc3RzTW9kXCIsWyduZ1N0b3JhZ2UnXSkuY29tcG9uZW50KCdsaXN0QXBwJywge1xuXHRjb250cm9sbGVyOiBbJyRzY29wZScsICckaHR0cCcsICckbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJGxvY2FsU3RvcmFnZSkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHQvLyBkZWxldGUgJGxvY2FsU3RvcmFnZS5saXN0cztcblx0XHRzZWxmLmdldExpc3RzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAodHlwZW9mICRsb2NhbFN0b3JhZ2UubGlzdHMgPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0JGh0dHAuZ2V0KCdhc3NldHMvSlNPTi9saXN0cy5qc29uJykudGhlbihmdW5jdGlvbihyZXMpe1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0byBhY2Nlc3MgZGF0YS5cIik7XG5cdFx0ICBcdFx0c2VsZi5saXN0cyA9IHJlcy5kYXRhO1xuXHRcdCAgXHRcdHNlbGYuc2F2ZUxpc3REYXRhKCk7ICAgICAgICAgICBcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLmxpc3RzID0gbG9jYWxTdG9yYWdlLmxpc3RzO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0c2VsZi5pbmNvbXBsZXRlRmlsdGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24obGlzdCkge1xuXHRcdFx0XHRyZXR1cm4gIWxpc3QubGlzdEl0ZW1zLmNvbXBsZXRlZCB8fCBsaXN0LmlzTmV3O1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0c2VsZi5sb2FkTGlzdERhdGEgPSBmdW5jdGlvbigpIHtcblx0XHRcdHNlbGYubGlzdHMgPSAkbG9jYWxTdG9yYWdlLmxpc3RzO1xuXHRcdH07XG5cblx0XHRzZWxmLnNhdmVMaXN0RGF0YSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0JGxvY2FsU3RvcmFnZS5saXN0cyA9IHNlbGYubGlzdHM7XG5cdFx0fTtcblxuICBcdHNlbGYuYWRkTGlzdCA9IGZ1bmN0aW9uKHRpdGxlKSB7XG4gIFx0XHRzZWxmLmxpc3RzLnB1c2goe3RpdGxlOiB0aXRsZSxcbiAgXHRcdFx0aXNOZXc6IHRydWUsXG4gIFx0XHRcdGxpc3RJdGVtczogW10sXG4gIFx0XHR9KTtcbiAgXHR9O1xuXG4gIFx0c2VsZi5yZW1vdmVMaXN0ID0gZnVuY3Rpb24obGlzdCkge1xuICBcdFx0dmFyIGluZGV4ID0gc2VsZi5saXN0cy5pbmRleE9mKGxpc3QpO1xuICBcdFx0c2VsZi5saXN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICBcdH07XG5cbiAgXHRzZWxmLmFkZExpc3RJdGVtID0gZnVuY3Rpb24obGlzdCwgbmV3SXRlbSkge1xuXHRcdFx0bmV3SXRlbS5pc1NlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHRuZXdJdGVtLmNvbXBsZXRlZCA9IGZhbHNlO1xuXHRcdFx0bGlzdC5pc05ldyA9IGZhbHNlO1xuXHRcdFx0dmFyIG5ld0l0ZW1Db3B5ID0gYW5ndWxhci5jb3B5KG5ld0l0ZW0pO1xuXHRcdFx0bGlzdC5saXN0SXRlbXMucHVzaChuZXdJdGVtQ29weSk7XG5cdFx0fTtcblxuXHRcdHNlbGYudXBkYXRlTGlzdEl0ZW0gPSBmdW5jdGlvbihsaXN0LCBsaXN0SXRlbSkge1xuXHRcdFx0dmFyIGxpc3RJbmRleCA9IHNlbGYubGlzdHMuaW5kZXhPZihsaXN0KTtcblx0XHRcdHZhciBpdGVtSW5kZXggPSBsaXN0Lmxpc3RJdGVtcy5pbmRleE9mKGxpc3RJdGVtKTtcblx0XHRcdHZhciBsaXN0SXRlbUNvcHkgPSBhbmd1bGFyLmNvcHkobGlzdEl0ZW0pO1xuXHRcdFx0c2VsZi5saXN0c1tsaXN0SW5kZXhdLmxpc3RJdGVtc1tpdGVtSW5kZXhdID0gbGlzdEl0ZW07XG5cdFx0fTtcblxuXHRcdHNlbGYucmVtb3ZlTGlzdEl0ZW0gPSBmdW5jdGlvbihsaXN0LCBsaXN0SXRlbSkge1xuXHRcdFx0dmFyIGxpc3RJbmRleCA9IHNlbGYubGlzdHMuaW5kZXhPZihsaXN0KTtcblx0XHRcdHZhciBpdGVtSW5kZXggPSBsaXN0Lmxpc3RJdGVtcy5pbmRleE9mKGxpc3RJdGVtKTtcblx0XHRcdHNlbGYubGlzdHNbbGlzdEluZGV4XS5saXN0SXRlbXMuc3BsaWNlKGl0ZW1JbmRleCwgMSk7XG5cdFx0fTtcblxuXHRcdHNlbGYudG9nZ2xlQ29tcGxldGVkID0gZnVuY3Rpb24obGlzdFR5cGUsIGxpc3QpIHtcblx0XHRcdHZhciBsaUxlbmd0aCA9IGxpc3QubGlzdEl0ZW1zLmxlbmd0aDtcblx0XHRcdHZhciBpbmRleCA9IHNlbGYubGlzdHMuaW5kZXhPZihsaXN0KTtcblx0XHRcdHZhciBsaUlzU2VsZWN0ZWQ7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxpTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bGlJc1NlbGVjdGVkID0gbGlzdC5saXN0SXRlbXNbaV0uaXNTZWxlY3RlZDtcblx0XHRcdFx0aWYgKGxpSXNTZWxlY3RlZCA9PT0gdHJ1ZSAmJiBsaXN0VHlwZSA9PT0gJ2luY29tcGxldGUnKSB7XG5cdFx0XHRcdFx0bGlzdC5saXN0SXRlbXNbaV0uY29tcGxldGVkID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIGlmIChsaUlzU2VsZWN0ZWQgPT09IHRydWUgJiYgbGlzdFR5cGUgPT09ICdjb21wbGV0ZWQnKSB7XG5cdFx0XHRcdFx0bGlzdC5saXN0SXRlbXNbaV0uY29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHNldFVuU2VsZWN0ZWQoKTtcblx0XHRcdHNlbGYubGlzdHNbaW5kZXhdID0gYW5ndWxhci5jb3B5KGxpc3QpO1xuXHRcdH07XG5cblx0XHR2YXIgc2V0VW5TZWxlY3RlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGxpc3RzTGVuZ3RoID0gc2VsZi5saXN0cy5sZW5ndGg7XG5cdFx0XHR2YXIgaSwgYSwgdGhlTGlzdCwgbGlMZW5ndGg7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGlzdHNMZW5ndGg7IGkrKykge1xuXHRcdFx0XHR0aGVMaXN0ID0gc2VsZi5saXN0c1tpXTtcblx0XHRcdFx0bGlMZW5ndGggPSB0aGVMaXN0Lmxpc3RJdGVtcy5sZW5ndGg7XG5cdFx0XHRcdGZvciAoYSA9IDA7IGEgPCBsaUxlbmd0aDsgYSsrKSB7XG5cdFx0XHRcdFx0dGhlTGlzdC5saXN0SXRlbXNbYV0uaXNTZWxlY3RlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcdFxuXHRcdHNlbGYuZ2V0TGlzdHMoKTtcblx0XHRpZiAodHlwZW9mICRsb2NhbFN0b3JhZ2UubGlzdHMgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHNlbGYubG9hZExpc3REYXRhKCk7XG5cdFx0fVxuICB9XSxcblx0dGVtcGxhdGU6JzxsaXN0LXRhYmxlcyBsaXN0cz1cIiRjdHJsLmxpc3RzXCIgaW5jb21wbGV0ZS1maWx0ZXI9XCIkY3RybC5pbmNvbXBsZXRlRmlsdGVyXCIgYWRkLWxpc3QtaXRlbT1cIiRjdHJsLmFkZExpc3RJdGVtXCIgcmVtb3ZlLWxpc3Q9XCIkY3RybC5yZW1vdmVMaXN0XCIgcmVtb3ZlLWxpc3QtaXRlbT1cIiRjdHJsLnJlbW92ZUxpc3RJdGVtXCIgdXBkYXRlLWxpc3QtaXRlbT1cIiRjdHJsLnVwZGF0ZUxpc3RJdGVtXCIgdG9nZ2xlLWNvbXBsZXRlZD1cIiRjdHJsLnRvZ2dsZUNvbXBsZXRlZFwiIGxpc3QtdHlwZT1cIiRjdHJsLmxpc3RUeXBlXCI+PC9saXN0LXRhYmxlcz48ZGl2IG5nLWhpZGU9XCIkY3RybC5saXN0VHlwZT09PVxcJ2NvbXBsZXRlZFxcJ1wiPjxkaXYgaWQ9XCJmb3JtU2VwZXJhdG9yXCI+PC9kaXY+PGRpdiBpZD1cIm5ld0xpc3RGb3JtXCI+PG5ldy1saXN0LWZvcm0gYWRkLWxpc3Q9XCIkY3RybC5hZGRMaXN0XCI+PC9uZXctbGlzdC1mb3JtPjwvZGl2PjwvZGl2PicsXG5cdGJpbmRpbmdzOiB7XG5cdFx0bGlzdFR5cGU6ICdAJ1xuXHR9XG59KTtcblxuLy9WaWV3c1xuYW5ndWxhci5tb2R1bGUoXCJsaXN0c01vZFwiKS5jb21wb25lbnQoJ2xpc3RUYWJsZXMnLCB7XG5cdGJpbmRpbmdzOiB7XG5cdFx0bGlzdHM6ICc8Jyxcblx0XHRpbmNvbXBsZXRlRmlsdGVyOiAnJicsXG5cdFx0YWRkTGlzdEl0ZW06ICcmJyxcblx0XHRyZW1vdmVMaXN0OiAnJicsXG5cdFx0cmVtb3ZlTGlzdEl0ZW06ICcmJyxcblx0XHR1cGRhdGVMaXN0SXRlbTogJyYnLFxuXHRcdHRvZ2dsZUNvbXBsZXRlZDogJyYnLFxuXHRcdGxpc3RUeXBlOiAnPCdcblx0fSxcblx0dGVtcGxhdGU6JzxkaXYgbmctc3dpdGNoPVwiJGN0cmwubGlzdFR5cGVcIj48dWwgY2xhc3M9XCJsaXN0c1wiIG5nLXN3aXRjaC13aGVuPVwiaW5jb21wbGV0ZVwiPjxpbmNvbXBsZXRlLWxpc3QtZm9ybSBsaXN0PVwibGlzdFwiIGxpc3QtdHlwZT1cIiRjdHJsLmxpc3RUeXBlXCIgYWRkLWxpc3QtaXRlbT1cIiRjdHJsLmFkZExpc3RJdGVtKClcIiByZW1vdmUtbGlzdD1cIiRjdHJsLnJlbW92ZUxpc3QoKVwiIHJlbW92ZS1saXN0LWl0ZW09XCIkY3RybC5yZW1vdmVMaXN0SXRlbSgpXCIgdXBkYXRlLWxpc3QtaXRlbT1cIiRjdHJsLnVwZGF0ZUxpc3RJdGVtKClcIiB0b2dnbGUtY29tcGxldGVkPVwiJGN0cmwudG9nZ2xlQ29tcGxldGVkKClcIiBuZy1yZXBlYXQ9XCJsaXN0IGluICRjdHJsLmxpc3RzIHwgZmlsdGVyOiAkY3RybC5pbmNvbXBsZXRlRmlsdGVyXCI+PC9pbmNvbXBsZXRlLWxpc3QtZm9ybT48L3VsPjx1bCBjbGFzcz1cImxpc3RzXCIgbmctc3dpdGNoLXdoZW49XCJjb21wbGV0ZWRcIj48Y29tcGxldGVkLWxpc3QtZm9ybSBsaXN0PVwibGlzdFwiIGxpc3QtdHlwZT1cIiRjdHJsLmxpc3RUeXBlXCIgcmVtb3ZlLWxpc3Q9XCIkY3RybC5yZW1vdmVMaXN0KClcIiByZW1vdmUtbGlzdC1pdGVtPVwiJGN0cmwucmVtb3ZlTGlzdEl0ZW0oKVwiIHVwZGF0ZS1saXN0LWl0ZW09XCIkY3RybC51cGRhdGVMaXN0SXRlbSgpXCIgdG9nZ2xlLWNvbXBsZXRlZD1cIiRjdHJsLnRvZ2dsZUNvbXBsZXRlZCgpXCIgbmctcmVwZWF0PVwibGlzdCBpbiAkY3RybC5saXN0cyB8IGZpbHRlcjoge2xpc3RJdGVtczoge2NvbXBsZXRlZDogdHJ1ZX19XCI+PC9jb21wbGV0ZWQtbGlzdC1mb3JtPjwvdWw+PC9kaXY+J1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwibGlzdHNNb2RcIikuY29tcG9uZW50KCdpbmNvbXBsZXRlTGlzdEZvcm0nLCB7XG5cdGJpbmRpbmdzOiB7XG5cdFx0bGlzdDogJzwnLFxuXHRcdGluY29tcGxldGVGaWx0ZXI6ICcmJyxcblx0XHRhZGRMaXN0SXRlbTogJyYnLFxuXHRcdHJlbW92ZUxpc3Q6ICcmJyxcblx0XHRyZW1vdmVMaXN0SXRlbTogJyYnLFxuXHRcdHVwZGF0ZUxpc3RJdGVtOiAnJicsXG5cdFx0dG9nZ2xlQ29tcGxldGVkOiAnJicsXG5cdFx0bGlzdFR5cGU6ICc8J1xuICB9LFxuICB0ZW1wbGF0ZTonPGZvcm0gbmFtZT1cImxpc3RTZXRGb3Jte3skaW5kZXh9fVwiIG5vdmFsaWRhdGUgaWQ9XCJsaXN0c0Zvcm1cIj48bGkgaWQ9XCJ0aXRsZUxpc3RJdGVtXCI+PGxhYmVsIGlkPVwibGlzdF90aXRsZVwiPnt7JGN0cmwubGlzdC50aXRsZX19PC9sYWJlbD4gPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBuYW1lPVwiYnRuRGVsZXRlXCIgbmctY2xpY2s9XCIkY3RybC5yZW1vdmVMaXN0KCkoJGN0cmwubGlzdClcIiB2YWx1ZT1cIkRlbGV0ZSBMaXN0XCI+PHRhYmxlIGNsYXNzPVwibGlzdFRhYmxlXCI+PHRyIGNsYXNzPVwibGlzdFRSXCI+PHRoIGNsYXNzPVwibGlzdFRIXCI+JiMxMDAwMzs8L3RoPjx0aCBjbGFzcz1cImxpc3RUSFwiPlRpdGxlPC90aD48dGggY2xhc3M9XCJsaXN0VEhcIj5EZXNjcmlwdGlvbjwvdGg+PHRoIGNsYXNzPVwibGlzdFRIXCI+UmVtb3ZlPC90aD48L3RyPjx0ciBjbGFzcz1cImxpc3RcIiBuZy1yZXBlYXQ9XCJsaXN0SXRlbSBpbiAkY3RybC5saXN0Lmxpc3RJdGVtc1wiIG5nLWhpZGU9XCJsaXN0SXRlbS5jb21wbGV0ZWQ9PT10cnVlXCI+PHRkIGNsYXNzPVwiY2hlY2tDb2xcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJjaGtJc1NlbGVjdGVkXCIgbmctY2hlY2tlZD1cInt7bGlzdEl0ZW0uaXNTZWxlY3RlZH19XCIgbmctbW9kZWw9XCJsaXN0SXRlbS5pc1NlbGVjdGVkXCIgbmctY2xpY2s9XCIkY3RybC51cGRhdGVMaXN0SXRlbSgpKCRjdHJsLmxpc3QsIGxpc3RJdGVtKVwiPjwvdGQ+PHRkIGNsYXNzPVwibGlzdFREXCI+PGxhYmVsIGNsYXNzPVwiY2VsbExpc3REYXRhXCI+e3tsaXN0SXRlbS50aXRsZX19PC9sYWJlbD48L3RkPjx0ZCBjbGFzcz1cImxpc3RURFwiPjxsYWJlbCBjbGFzcz1cImNlbGxMaXN0RGF0YVwiPnt7bGlzdEl0ZW0uZGVzY3JpcHRpb259fTwvbGFiZWw+PC90ZD48dGQgY2xhc3M9XCJsaXN0VERcIj48YSBuZy1jbGljaz1cIiRjdHJsLnJlbW92ZUxpc3RJdGVtKCkoJGN0cmwubGlzdCwgbGlzdEl0ZW0pXCI+cmVtb3ZlPC9hPjwvdGQ+PC90cj48dHI+PHRkIGNsYXNzPVwiY29ybmVyLXN5bWJvbFwiPis8L3RkPjx0ZCBjbGFzcz1cIm5ld0l0ZW1URFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0eHRUaXRsZVwiIG5nLW1vZGVsPVwibmV3SXRlbS50aXRsZVwiIHJlcXVpcmVkPjwvdGQ+PHRkIGNsYXNzPVwibmV3SXRlbVREXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInR4dERlc2NcIiBuZy1tb2RlbD1cIm5ld0l0ZW0uZGVzY3JpcHRpb25cIiByZXF1aXJlZD48L3RkPjx0ZCBjbGFzcz1cIm5ld0l0ZW1URFwiPjxpbnB1dCB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJuZXdJdGVtQnRuXCIgbmFtZT1cImJ0bk5ld0l0ZW1cIiBuZy1kaXNhYmxlZD1cImxpc3RTZXRGb3JtLiRpbnZhbGlkXCIgbmctY2xpY2s9XCIkY3RybC5hZGRMaXN0SXRlbSgpKCRjdHJsLmxpc3QsIG5ld0l0ZW0pXCI+PC90ZD48L3RyPjwvdGFibGU+PC9saT48aW5wdXQgdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJzZXRDb21wbGV0ZWRCdG5cIiBjbGFzcz1cInRvZ2dsZUJ0blwiIG5nLWNsaWNrPVwiJGN0cmwudG9nZ2xlQ29tcGxldGVkKCkoJGN0cmwubGlzdFR5cGUsICRjdHJsLmxpc3QpXCIgdmFsdWU9XCJNb3ZlIHRvIENvbXBsZXRlZFwiPiA8c3BhbiBjbGFzcz1cImVycm9yLW5vdGlmaWNhdGlvblwiIG5nLWlmPVwibGlzdFNldEZvcm0udHh0VGl0bGUuJGludmFsaWQgJiYgbGlzdFNldEZvcm0udHh0VGl0bGUuJGRpcnR5IHx8IGxpc3RTZXRGb3JtLnR4dERlc2MuJGludmFsaWQgJiYgbGlzdFNldEZvcm0udHh0RGVzYy4kZGlydHlcIj5QbGVhc2UgaW5jbHVkZSBhIHZhbGlkIHRpdGxlIGFuZCBkZXNjcmlwdGlvbi48L3NwYW4+PC9mb3JtPidcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZShcImxpc3RzTW9kXCIpLmNvbXBvbmVudCgnY29tcGxldGVkTGlzdEZvcm0nLCB7XG5cdGJpbmRpbmdzOiB7XG5cdFx0bGlzdDogJzwnLFxuXHRcdGFkZExpc3RJdGVtOiAnJicsXG5cdFx0cmVtb3ZlTGlzdDogJyYnLFxuXHRcdHJlbW92ZUxpc3RJdGVtOiAnJicsXG5cdFx0dXBkYXRlTGlzdEl0ZW06ICcmJyxcblx0XHR0b2dnbGVDb21wbGV0ZWQ6ICcmJyxcblx0XHRsaXN0VHlwZTogJzwnXG4gIH0sXG4gIHRlbXBsYXRlOic8Zm9ybSBuYW1lPVwibGlzdFNldEZvcm17eyRpbmRleH19XCIgbm92YWxpZGF0ZSBpZD1cImxpc3RzRm9ybVwiPjxsaSBpZD1cInRpdGxlTGlzdEl0ZW1cIj48bGFiZWwgaWQ9XCJsaXN0X3RpdGxlXCI+e3skY3RybC5saXN0LnRpdGxlfX08L2xhYmVsPiA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIG5nLWNsaWNrPVwiJGN0cmwucmVtb3ZlTGlzdCgpKCRjdHJsLmxpc3QpXCIgdmFsdWU9XCJEZWxldGUgTGlzdFwiPjx0YWJsZSBjbGFzcz1cImxpc3RUYWJsZVwiPjx0ciBjbGFzcz1cImxpc3RUUlwiPjx0aCBjbGFzcz1cImxpc3RUSFwiPiYjMTAwMDM7PC90aD48dGggY2xhc3M9XCJsaXN0VEhcIj5UaXRsZTwvdGg+PHRoIGNsYXNzPVwibGlzdFRIXCI+RGVzY3JpcHRpb248L3RoPjx0aCBjbGFzcz1cImxpc3RUSFwiPlJlbW92ZTwvdGg+PC90cj48dHIgY2xhc3M9XCJsaXN0XCIgbmctcmVwZWF0PVwibGlzdEl0ZW0gaW4gJGN0cmwubGlzdC5saXN0SXRlbXNcIiBuZy1oaWRlPVwibGlzdEl0ZW0uY29tcGxldGVkPT09ZmFsc2VcIj48dGQgY2xhc3M9XCJjaGVja0NvbFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImNoa0lzU2VsZWN0ZWRcIiBuZy1jaGVja2VkPVwie3tsaXN0SXRlbS5pc1NlbGVjdGVkfX1cIiBuZy1tb2RlbD1cImxpc3RJdGVtLmlzU2VsZWN0ZWRcIiBuZy1jbGljaz1cIiRjdHJsLnVwZGF0ZUxpc3RJdGVtKCkoJGN0cmwubGlzdCwgbGlzdEl0ZW0pXCI+PC90ZD48dGQgY2xhc3M9XCJsaXN0VERcIj48bGFiZWwgY2xhc3M9XCJjZWxsTGlzdERhdGFcIj57e2xpc3RJdGVtLnRpdGxlfX08L2xhYmVsPjwvdGQ+PHRkIGNsYXNzPVwibGlzdFREXCI+PGxhYmVsIGNsYXNzPVwiY2VsbExpc3REYXRhXCI+e3tsaXN0SXRlbS5kZXNjcmlwdGlvbn19PC9sYWJlbD48L3RkPjx0ZCBjbGFzcz1cImxpc3RURFwiPjxhIG5nLWNsaWNrPVwiJGN0cmwucmVtb3ZlTGlzdEl0ZW0oKSgkY3RybC5saXN0LCBsaXN0SXRlbSlcIj5yZW1vdmU8L2E+PC90ZD48L3RyPjwvdGFibGU+PGlucHV0IHR5cGU9XCJzdWJtaXRcIiBuYW1lPVwic2V0SW5jb21wbGV0ZWRCdG5cIiBjbGFzcz1cInRvZ2dsZUJ0blwiIG5nLWNsaWNrPVwiJGN0cmwudG9nZ2xlQ29tcGxldGVkKCkoJGN0cmwubGlzdFR5cGUsICRjdHJsLmxpc3QpXCIgdmFsdWU9XCJNb3ZlIHRvIEluY29tcGxldGVcIj48L2xpPjwvZm9ybT4nXG59KTtcblxuYW5ndWxhci5tb2R1bGUoXCJsaXN0c01vZFwiKS5jb21wb25lbnQoJ25ld0xpc3RGb3JtJywge1xuXHRiaW5kaW5nczoge1xuXHRcdGFkZExpc3Q6ICcmJ1xuXHR9LFxuXHR0ZW1wbGF0ZTonPGZvcm0gbmFtZT1cIm5ld0xpc3RGb3JtXCI+PGxhYmVsPk5ldyBMaXN0IFRpdGxlOjwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ0aXRsZVwiIHJlcXVpcmVkPiA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIG5nLWNsaWNrPVwiJGN0cmwuYWRkTGlzdCgpKHRpdGxlKVwiPjwvZm9ybT4nXG59KTtcblxuXG5cblxuXG4iXX0=
